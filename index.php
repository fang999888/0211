<?php
// 修正後：
$accessToken = getenv('LINE_CHANNEL_ACCESS_TOKEN');
$input = file_get_contents('php://input');
$events = json_decode($input, true);

$chickenSoup = [
    "每一天都是新的開始，保持微笑。", "越努力，越幸運。", "你的堅持，終將美好。",
    "心若向陽，無畏傷悲。", "星光不問趕路人，時光不負有心人。", "做自己的光，不需要依靠誰。",
    "跌倒了，爬起來就是英雄。", "生活不在於活得長，而在於活得精彩。", "只要還有明天，今天就是起跑線。",
    "擁抱改變，是成長的開始。", "你是這世上獨一無二的風景。", "平凡的腳步也能走完偉大的行程。",
    "夢想再小，也值得被溫柔對待。", "不忘初心，方得始終。", "這世界比你想像中更溫暖。"
];

$poison = [
    "長得醜不是你的錯，但出來嚇人就是你的不對了。", "你不是胖，你只是骨架大到溢出來了。", "努力不一定成功，但放棄一定很舒服。",
    "上帝關了你的門，還順便把窗給焊死了。", "你以為有錢人像你想像中那麼快樂嗎？不，他們的快樂你想像不到。", "醜小鴨能變天鵝不是因為努力，是因為牠爸媽是天鵝。",
    "別再說你一無所有，你不是還有病嗎？", "如果你覺得自己一事無成，別難過，你是對的。", "有些人出現在你生命裡，是為了告訴你，你真好騙。",
    "善良沒用，你得漂亮，還要更有錢。", "現在沒錢算什麼？以後沒錢的日子還多著呢。", "生活不只有眼前的苟且，還有遠方的湊合。",
    "你的意中人是個蓋世英雄，但他去接別人了。", "鹹魚翻身了，還是鹹魚。", "所謂成熟，就是你發現以前想不通的事，現在終於不想通了。"
];

if (!empty($events['events'])) {
    foreach ($events['events'] as $event) {
        if ($event['type'] == 'message') {
            $all = array_merge($chickenSoup, $poison);
            $msg = $all[array_rand($all)];
            // ... (其餘 cURL 回覆代碼同上)
        }
    }
}
